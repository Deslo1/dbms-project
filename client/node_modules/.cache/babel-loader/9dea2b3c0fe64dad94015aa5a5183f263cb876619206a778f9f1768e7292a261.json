{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ravisankar S Menon\\\\Desktop\\\\dbms\\\\client\\\\src\\\\Form.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport axios from \"axios\";\nimport './styles/Form.css';\nimport \"./styles.css\";\nimport Map from \"./Map/Map\";\nimport { useEffect, useState } from \"react\";\nimport ActiveCalls from \"./ActiveCalls.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Form() {\n  _s();\n  const types = [\"Domestic Abuse\", \"Armed Assault\", \"Public Nuisance\"];\n  const gettypes = types.map(type => {\n    return /*#__PURE__*/_jsxDEV(\"option\", {\n      value: type,\n      children: type\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 16\n    }, this);\n  });\n  const [formData, setFormData] = React.useState({\n    name: \"\",\n    jurisdiction: \"\",\n    type: \"\",\n    number: 0,\n    description: \"\"\n  });\n  function handleChange(event) {\n    setFormData(prevFormData => {\n      return {\n        ...prevFormData,\n        [event.target.name]: event.target.value\n      };\n    });\n  }\n  function onSubmit(event) {\n    axios.post(\"http://localhost:3001\", formData).then(response => {});\n  }\n  const [display_name, setName] = useState(\"\");\n  const [coords, setCorrds] = useState({\n    latitude: 0,\n    longitude: 0\n  });\n  function error() {\n    alert('Sorry, no position available.');\n  }\n  const options = {\n    enableHighAccuracy: true,\n    maximumAge: 30000,\n    timeout: 27000\n  };\n  function getCurrentCityName(position) {\n    setCorrds({\n      latitude: position.coords.latitude,\n      longitude: position.coords.longitude\n    });\n    let url = \"https://nominatim.openstreetmap.org/reverse?format=jsonv2\" + \"&lat=\" + coords.latitude + \"&lon=\" + coords.longitude;\n    fetch(url, {\n      method: \"GET\",\n      mode: 'cors',\n      headers: {\n        \"Access-Control-Allow-Origin\": \"https://o2cj2q.csb.app\"\n      }\n    }).then(response => response.json()).then(data => setName(data.display_name));\n  }\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(getCurrentCityName, error, options);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Home\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 28\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 72\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 77\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Jurisdiction\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 36\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"jurisdiction\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 81\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 86\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 91\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"type\",\n        id: \"type\",\n        onChange: handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }, this), gettypes]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"number\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 76\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 81\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 35\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"description\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 73\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 78\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", coords.latitude != 0 && /*#__PURE__*/_jsxDEV(Map, {\n          coords: coords,\n          display_name: display_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 94\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        onClick: onSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 57\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 62\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ActiveCalls, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n}\n_s(Form, \"GIFpFspKvOqz9PmufpnU6Q7/1/8=\");\n_c = Form;\nexport default Form;\nvar _c;\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["React","axios","Map","useEffect","useState","ActiveCalls","Form","types","gettypes","map","type","formData","setFormData","name","jurisdiction","number","description","handleChange","event","prevFormData","target","value","onSubmit","post","then","response","display_name","setName","coords","setCorrds","latitude","longitude","error","alert","options","enableHighAccuracy","maximumAge","timeout","getCurrentCityName","position","url","fetch","method","mode","headers","json","data","navigator","geolocation","getCurrentPosition"],"sources":["C:/Users/Ravisankar S Menon/Desktop/dbms/client/src/Form.js"],"sourcesContent":["import React from 'react';\r\nimport axios from \"axios\";\r\nimport './styles/Form.css';\r\nimport \"./styles.css\";\r\nimport Map from \"./Map/Map\";\r\nimport { useEffect, useState } from \"react\";\r\nimport ActiveCalls from \"./ActiveCalls.js\"\r\n\r\n\r\nfunction Form(){\r\n    const types=[\"Domestic Abuse\",\"Armed Assault\",\"Public Nuisance\"];\r\n    const gettypes=types.map(type=>{\r\n        return(<option value={type}>{type}</option>)});\r\n\r\n        const [formData, setFormData] = React.useState(\r\n            {\r\n                name: \"\",\r\n                jurisdiction: \"\",\r\n                type: \"\",\r\n                number: 0,\r\n                description: \"\"\r\n            }\r\n        )\r\n\r\n        function handleChange(event){\r\n            setFormData(prevFormData =>{\r\n                return{\r\n                    ...prevFormData,\r\n                    [event.target.name]:event.target.value\r\n                }\r\n            })\r\n        }\r\n\r\n    function onSubmit(event) {\r\n            axios.post(\"http://localhost:3001\",formData).then((response) => {\r\n            });\r\n  }\r\n\r\n  const [display_name, setName] = useState(\"\");\r\n\r\n  const [coords, setCorrds] = useState({\r\n    latitude: 0,\r\n    longitude: 0\r\n  });\r\n\r\n  function error() {\r\n    alert('Sorry, no position available.');\r\n  }\r\n  const options = {\r\n    enableHighAccuracy: true,\r\n    maximumAge: 30000,\r\n    timeout: 27000\r\n  };\r\n\r\n  function getCurrentCityName(position){\r\n    setCorrds({\r\n      latitude: position.coords.latitude,\r\n      longitude: position.coords.longitude\r\n    }); \r\n   let url=\"https://nominatim.openstreetmap.org/reverse?format=jsonv2\"+\r\n   \"&lat=\"+coords.latitude+\"&lon=\"+coords.longitude;\r\n\r\n    fetch(url, {\r\n      method: \"GET\",   \r\n      mode: 'cors', \r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"https://o2cj2q.csb.app\"\r\n      }\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => setName( data.display_name));\r\n  }\r\n\r\n  useEffect(() => {\r\n    navigator.geolocation.getCurrentPosition(\r\n    getCurrentCityName,\r\n    error,\r\n    options\r\n\r\n    );\r\n  }, []);\r\n\r\n\r\n\r\n    return(\r\n        <div className='Home'>\r\n        <form className='form'>\r\n        <label>Name</label><br/>\r\n        <input type=\"text\" name=\"name\" onChange={handleChange}></input><br/><br/>\r\n        <label>Jurisdiction</label><br/>\r\n        <input type=\"text\" name=\"jurisdiction\"  onChange={handleChange}></input><br/><br/><br/>\r\n        <select name=\"type\" id=\"type\" onChange={handleChange}>\r\n        <option>Type</option>\r\n        {gettypes}\r\n        </select><br/><br/>\r\n        <label>Number</label><br/>\r\n        <input type=\"number\" name=\"number\" onChange={handleChange}></input><br/><br/>\r\n        <label>Description</label><br/>\r\n        <textarea name=\"description\" onChange={handleChange}></textarea><br/><br/>\r\n       <div> {coords.latitude!=0&&<Map coords={coords} display_name={display_name}  />}</div><br/>\r\n        <input type='submit' onClick={onSubmit}></input><br/><br/>\r\n        </form>\r\n        <ActiveCalls/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Form;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}